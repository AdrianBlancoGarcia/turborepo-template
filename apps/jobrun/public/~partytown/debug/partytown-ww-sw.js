(a=>{let b=Symbol(),c=Symbol(),d=Symbol(),e=Symbol(),f=Symbol(),g=Symbol(),h=Symbol(),i=Symbol(),j=new Map,k={},l=new WeakMap,m=[],n={},o=new Map,p=new Map,q={},r=new Map,s=new Map,t=a=>a.split(","),u=a=>{if(a=n.$libPath$+a,new URL(a).origin!=location.origin)throw"Invalid "+a;return a},v=t("clientWidth,clientHeight,clientTop,clientLeft,innerWidth,innerHeight,offsetWidth,offsetHeight,offsetTop,offsetLeft,outerWidth,outerHeight,pageXOffset,pageYOffset,scrollWidth,scrollHeight,scrollTop,scrollLeft"),w=t("childElementCount,children,firstElementChild,lastElementChild,nextElementSibling,previousElementSibling"),x=t("insertBefore,remove,removeChild,replaceChild"),y=t("className,width,height,hidden,innerHTML,innerText,textContent"),z=t("setAttribute,setAttributeNS,setProperty"),A=t("addEventListener,dispatchEvent,removeEventListener"),B=A.concat(z,t("add,observe,remove,unobserve")),C=/^[A-Z_]([A-Z0-9-]*[A-Z0-9])?$/,D=()=>{},E=a=>a.length,F=a=>{var b,c,d;try{let e=null===(b=null==a?void 0:a.constructor)|| void 0===b?void 0:b.name;if(e)return e}catch(f){}try{let g=null===(d=null===(c=null==a?void 0:a.__zone_symbol__originalInstance)|| void 0===c?void 0:c.constructor)|| void 0===d?void 0:d.name;if(g)return g}catch(h){}return""},G=[],H=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),I=(a,b,c)=>Object.defineProperty(a,b,{...c,configurable:!0}),J=(a,b)=>I(a,"name",{value:b}),K=(a,b,c)=>I(a.prototype,b,c),L=(a,b)=>Object.defineProperties(a.prototype,b),M=(a,b,c)=>K(a,b,{value:c,writable:!0}),N=(a,b)=>b in a[g],O=(a,b)=>a[g][b],P=(a,b,c)=>a[g][b]=c,Q=(a,b)=>((b=l.get(a))||(l.set(a,b=H()),k[b]=a),b),R=(a,b,c,d,e)=>((e=j.get(b))||!c||!q[a]||(e=q[a].$createNode$(c,b,d),j.set(b,e)),e),S=(a,b)=>M(a,"nodeType",b),T=(a,b)=>b.map(b=>K(a,b,{get(){let a=U(this,b),c=s.get(a);return c||(c=at(this,[b]),s.set(a,c)),c}})),U=(a,d,e)=>[a[b],a[c],d,...(e||G).map(a=>String(a&&a[b]?a[c]:a))].join("."),V=(a,b)=>t(b).map(b=>K(a,b,{get(){return N(this,b)||P(this,b,at(this,[b])),O(this,b)},set(a){O(this,b)!==a&&au(this,[b],a),P(this,b,a)}})),W=a=>v.map(b=>K(a,b,{get(){let a=r.get(U(this,b));if("number"==typeof a)return a;let c=at(this,[b],v);return c&&"object"==typeof c?(Object.entries(c).map(([a,b])=>r.set(U(this,a),b)),c[b]):c}})),X=(a,b)=>b.map(b=>{a.prototype[b]=function(...a){let c=U(this,b,a),d=r.get(c);return d||(d=av(this,[b],a),r.set(c,d)),d}}),Y=(a,d,e,f,g)=>void 0!==e&&(g=typeof e)?"string"===g||"boolean"===g||"number"===g||null==e?[0,e]:"function"===g?[4,{$winId$:a,$instanceId$:d,$refId$:Q(e)}]:(f=f||new Set,Array.isArray(e))?f.has(e)?[1,[]]:f.add(e)&&[1,e.map(b=>Y(a,d,b,f))]:"object"===g?e[c]?[3,[e[b],e[c]]]:e instanceof Event?[5,$(a,d,e,!1,f)]:Z&&e instanceof TrustedHTML?[0,e.toString()]:e instanceof ArrayBuffer?[8,e]:ArrayBuffer.isView(e)?[9,e.buffer,F(e)]:[2,$(a,d,e,!0,f)]:void 0:e,Z="undefined"!=typeof TrustedHTML,$=(a,b,c,d,e,f,g,h)=>{if(f={},!e.has(c))for(g in e.add(c),c)h=c[g],(d||"function"!=typeof h)&&(f[g]=Y(a,b,h,e));return f},_=(a,d)=>a?Y(a[b],a[c],d):[0,d],aa=(a,b,c,d,e,f,g,h)=>{if(d){if(e=d[0],f=d[1],0===e||11===e||12===e)return f;if(4===e)return ac(c,f);if(6===e)return a&&c.length>0?(...b)=>av(q[a].$window$,c,b,1):D;if(3===e)return ab(f);if(7===e)return new ae(f.map(ab));if(10===e)return new af(f);if(1===e)return f.map(d=>aa(a,b,c,d));if(14===e)return new ad(f);for(h in g={},f)g[h]=aa(a,b,[...c,h],f[h]);if(13===e)return new q[a].$window$.CSSStyleDeclaration(a,b,c,g);if(5===e){if("message"===g.type&&g.origin){let i=JSON.stringify(g.data),j=m.find(a=>a.$data$===i),k;j&&(k=q[j.$winId$])&&(g.source=k.$window$,g.origin=k.$location$.origin)}return new Proxy(new Event(g.type,g),{get:(a,b)=>b in g?g[b]:"function"==typeof a[String(b)]?D:a[String(b)]})}if(2===e)return g}},ab=([a,b,c])=>b===a&&q[a]?q[a].$window$:R(a,b,c),ac=(a,{$winId$:b,$instanceId$:c,$nodeName$:d,$refId$:e})=>(k[e]||l.set(k[e]=function(...e){let f=R(b,c,d);return av(f,a,e)},e),k[e]);class ad extends Error{constructor(a){super(a.message),this.name=a.name,this.message=a.message,this.stack=a.stack}}let ae=class{constructor(a){(this._=a).map((a,b)=>this[b]=a)}entries(){return this._.entries()}forEach(a,b){this._.map(a,b)}item(a){return this[a]}keys(){return this._.keys()}get length(){return E(this._)}values(){return this._.values()}[Symbol.iterator](){return this._[Symbol.iterator]()}},af=class{constructor(a){this.name=a[0],this.value=a[1]}get nodeName(){return this.name}get nodeType(){return 2}},ag=(a,b,c)=>console.warn(`Partytown unable to ${a} cross-origin ${b}: `+c.$location$),ah=(b,c)=>{try{let d=n.$config$;if(d.logStackTraces){let e=Error().stack.split("\n"),f=e.findIndex(a=>a.includes("logWorker"));b+="\n"+e.slice(f+1).join("\n")}let g,h;c?(g=`Worker (${aj(c)}) ðŸŽ‰`,h=ak(c)):(g=a.name,h="#9844bf"),n.lastLog!==b&&(n.lastLog=b,console.debug.apply(console,[`%c${g}`,`background: ${h}; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`,b]))}catch(i){}},ai=[],aj=a=>(ai.includes(a)||ai.push(a),ai.indexOf(a)+1),ak=a=>{let b=["#00309e","#ea3655","#eea727"],c=aj(a)-1;return b[c]||b[b.length-1]},al=(a,b)=>{let e="";if(a){a[c];let g=F(a);if("Window"===g)e="";else if("string"==typeof a[d]){let h=a[d];e="#text"===h?"textNode.":"#comment"===h?"commentNode.":"#document"===h?"document.":"html"===h?"doctype.":h.toLowerCase()+"."}else e="nodeType"in a&&2===a.nodeType?"attributes.":"CanvasRenderingContext2D"===g?"context2D.":"CanvasRenderingContextWebGL"===g?"contextWebGL.":"CSSStyleDeclaration"===g?"style.":"MutationObserver"===g?"mutationObserver.":"NamedNodeMap"===g?"namedNodeMap.":"ResizeObserver"===g?"resizeObserver.":g.substring(0,1).toLowerCase()+g.substring(1)+".";a[f]&&a[f].length&&(e+=[...a[f]].join(".")+".")}if(b.length>1){let i=b.slice(0,b.length-1),j=b[b.length-1];if(!isNaN(j))return e+`${i.join(".")}[${j}]`}return e+b.join(".")},am=(a,b)=>{var e;let f=typeof b;if(void 0===b)return"undefined";if("boolean"===f||"number"===f||null==b)return JSON.stringify(b);if("string"===f)return a.includes("cookie")?JSON.stringify(b.slice(0,10)+"..."):JSON.stringify(b.length>50?b.slice(0,40)+"...":b);if(Array.isArray(b))return`[${b.map(am).join(", ")}]`;if("object"===f){let g=b[c],h=F(b);if("string"==typeof g){if("Window"===h)return"window";if("string"==typeof b[d]){if(1===b.nodeType)return`<${b[d].toLowerCase()}>`;if(10===b.nodeType)return`<!DOCTYPE ${b[d]}>`;if(b.nodeType<=11)return b[d]}return"\xaf\\_(ãƒ„)_/\xaf instance obj"}return b[Symbol.iterator]?`[${Array.from(b).map(b=>am(a,b)).join(", ")}]`:"value"in b?"string"==typeof b.value?`"${b.value}"`:an(b.value):an(b)}return"object"==typeof(e=b)&&e&&e.then?"Promise":"function"===f?`Æ’() ${b.name||""}`.trim():`\xaf\\_(ãƒ„)_/\xaf ${String(b)}`.trim()},an=a=>{let b=[];for(let c in a){let d=a[c],e=typeof d;"string"===e?b.push(`${c}: "${d}"`):"function"===e?b.push(`${c}: Æ’`):Array.isArray(e)?b.push(`${c}: [..]`):"object"===e&&d?b.push(`${c}: {..}`):b.push(`${c}: ${String(d)}`)}let f=b.join(", ");return f.length>200&&(f=f.substring(0,200)+".."),`{ ${f} }`},ao=(a,c)=>{(n.$config$.logGetters||n.$config$.logSetters)&&ah(`Dimension cache cleared from style.${c} setter`,a[b])},ap=(a,c)=>{(n.$config$.logGetters||n.$config$.logCalls)&&ah(`Dimension cache cleared from method call ${c}()`,a[b])},aq=[],ar=(a,d,e,g,h,i)=>{if(a[f]){if(aq.push({$winId$:a[b],$instanceId$:a[c],$applyPath$:[...a[f],...d],$assignInstanceId$:g,$groupedGetters$:h}),aq[E(aq)-1].$debug$=((a,b,c)=>{let d=al(a,b);return 1===c?d+=" (blocking)":2===c?d+=" (non-blocking)":3===c&&(d+=" (non-blocking, no-side-effect)"),d.trim()})(a,d,e),i&&3!==e&&console.error("buffer must be sent NonBlockingNoSideEffect"),3===e)n.$postMessage$([12,{$msgId$:H(),$tasks$:[...aq]}],i?[i instanceof ArrayBuffer?i:i.buffer]:void 0),aq.length=0;else if(1===e)return as(!0);n.$asyncMsgTimer$=setTimeout(as,20)}},as=a=>{if(clearTimeout(n.$asyncMsgTimer$),E(aq)){n.$config$.logMainAccess&&ah(`Main access, tasks sent: ${aq.length}`);let b=aq[E(aq)-1],c={$msgId$:H(),$tasks$:[...aq]};if(aq.length=0,a){let d=((a,b)=>{let c=new XMLHttpRequest;return c.open("POST",u("proxytown"),!1),c.send(JSON.stringify(b)),JSON.parse(c.responseText)})(0,c),e=d.$isPromise$,f=aa(b.$winId$,b.$instanceId$,b.$applyPath$,d.$rtnValue$);if(d.$error$){if(e)return Promise.reject(d.$error$);throw Error(d.$error$)}return e?Promise.resolve(f):f}n.$postMessage$([12,c])}},at=(a,c,d,e)=>(n.$config$.get&&(e=n.$config$.get(ax(a,c)))!==h||(e=ar(a,c,1,void 0,d),((a,c,d,e=!1,f=!1)=>{if(n.$config$.logGetters)try{let g=`Get ${al(a,c)}, returned: ${am(c,d)}${e?" (restricted to worker)":""}${f?" (grouped getter)":""}`;g.includes("Symbol(")||ah(g,a[b])}catch(h){}})(a,c,e,!1,!!d)),e),au=(a,c,d,e)=>{if(n.$config$.set){if((e=n.$config$.set({value:d,prevent:i,...ax(a,c)}))===i)return;e!==h&&(d=e)}if(y.some(a=>c.includes(a))){var f,g;r.clear(),f=a,g=c[c.length-1],(n.$config$.logGetters||n.$config$.logSetters)&&ah(`Dimension cache cleared from setter "${g}"`,f[b])}c=[...c,_(a,d),0],((a,c,d,e=!1)=>{if(n.$config$.logSetters)try{c=c.slice(0,c.length-2),ah(`Set ${al(a,c)}, value: ${am(c,d)}${e?" (restricted to worker)":""}`,a[b])}catch(f){}})(a,c,d),ar(a,c,2)},av=(a,c,d,e,f,g,i,j)=>{if(n.$config$.apply&&(i=n.$config$.apply({args:d,...ax(a,c)}))!==h)return i;if(j=c[E(c)-1],c=[...c,_(a,d)],e=e||(B.includes(j)?2:1),"setAttribute"===j&&N(a,d[0]))P(a,d[0],d[1]);else if(x.includes(j)){var k,l;r.clear(),s.clear(),k=a,l=j,(n.$config$.logGetters||n.$config$.logCalls)&&ah(`Dimension and DOM structure cache cleared from method call ${l}()`,k[b])}else z.includes(j)&&(e=2,r.clear(),ap(a,j));return i=ar(a,c,e,f,void 0,g),((a,c,d,e)=>{if(n.$config$.logCalls)try{c=c.slice(0,c.length-1),ah(`Call ${al(a,c)}(${d.map(a=>am(c,a)).join(", ")}), returned: ${am(c,e)}`,a[b])}catch(f){}})(a,c,d,i),i},aw=(a,c,d)=>{((a,c,d)=>{if(n.$config$.logCalls)try{ah(`Construct new ${c}(${d.map(a=>am([],a)).join(", ")})`,a[b])}catch(e){}})(a,c,d),ar(a,[1,c,_(a,d)],1)},ax=(a,b)=>({name:b.join("."),continue:h,nodeName:a[d],constructor:F(a)}),ay=(a,b,c,d,e)=>{let f=b=>((b=c.get(a.origin))||c.set(a.origin,b=[]),b),g=a=>f().findIndex(b=>b[az]===a),h,i,j={getItem(a){return(h=g(a))> -1?f()[h][aA]:null},setItem(c,i){(h=g(c))> -1?f()[h][aA]=i:f().push([c,i]),d?av(a,[b,"setItem"],[c,i],2):ag("set",b,e)},removeItem(c){(h=g(c))> -1&&f().splice(h,1),d?av(a,[b,"removeItem"],[c],2):ag("remove",b,e)},key(a){return(i=f()[a])?i[az]:null},clear(){f().length=0,d?av(a,[b,"clear"],G,2):ag("clear",b,e)},get length(){return f().length}};a[b]=j},az=0,aA=1,aB=(a,b,c)=>{a[c]=J(class extends b{constructor(a,b,c,e){return super(a,b,c,e||{}),new Proxy(this,{get(a,b){return a[b]?a[b]:(a[b]||"string"!=typeof b||a[d][b]||(a[d][b]=at(a,[b])),a[d][b])},set(a,b,c){return a[d][b]=c,au(a,[b],c),ao(a,b),r.clear(),!0}})}setProperty(...a){this[d][a[0]]=a[1],av(this,["setProperty"],a,2),ao(this,a[0]),r.clear()}getPropertyValue(a){return this[a]}removeProperty(a){let b=this[d][a];return av(this,["removeProperty"],[a],2),ao(this,a),r.clear(),this[d][a]=void 0,b}},c)},aC=(a,b)=>{a[b]=J(class{constructor(a){this.ownerNode=a}get cssRules(){let a=this.ownerNode;return new Proxy({},{get(b,c){let d=String(c);return"item"===d?b=>aE(a,b):"length"===d?aD(a).length:isNaN(d)?b[c]:aE(a,d)}})}insertRule(a,b){let c=aD(this.ownerNode);return(b=void 0===b?0:b)>=0&&b<=c.length&&(av(this.ownerNode,["sheet","insertRule"],[a,b],2),c.splice(b,0,0)),ap(this.ownerNode,"insertRule"),r.clear(),b}deleteRule(a){av(this.ownerNode,["sheet","deleteRule"],[a],2),aD(this.ownerNode).splice(a,1),ap(this.ownerNode,"deleteRule"),r.clear()}get type(){return"text/css"}},b);let c={sheet:{get(){return new a[b](this)}}};L(a.HTMLStyleElement,c)},aD=(a,b)=>((b=O(a,2))||(b=at(a,["sheet","cssRules"]),P(a,2,b)),b),aE=(a,b,c)=>(0===(c=aD(a))[b]&&(c[b]=at(a,["sheet","cssRules",parseInt(b,10)])),c[b]),aF=(a,b,c,d,e)=>{try{n.$config$.logScriptExecution&&ah(`Execute script: ${c.substring(0,100).split("\n").map(a=>a.trim()).join(" ").trim().substring(0,60)}...`,d),a.$currentScriptId$=b,aG(a,c)}catch(f){console.error(c,f),e=String(f.stack||f)}return a.$currentScriptId$="",e},aG=(a,b,c)=>{a.$runWindowLoadEvent$=1,b=`with(this){${(n.$config$.globalFns||[]).filter(a=>/[a-zA-Z_$][0-9a-zA-Z_$]*/.test(a)).map(a=>`(typeof ${a}=='function'&&(window.${a}=${a}))`).join(";")+b.replace(/\bthis\b/g,"(thi$(this)?window:this)").replace(/\/\/# so/g,"//Xso")}
;function thi$(t){return t===this}}`+(c?"\n//# sourceURL="+c:""),a.$isSameOrigin$||(b=b.replace(/.postMessage\(/g,`.postMessage('${a.$winId$}',`)),Function(b).call(a.$window$),a.$runWindowLoadEvent$=0},aH=(a,b,c)=>{(c=O(a,b))&&setTimeout(()=>c.map(a=>a({type:b})))},aI=(a,b,c,d,e,f)=>{for(d=a.$location$;!d.host&&(d=(a=q[a.$parentWinId$]).$location$,a.$winId$!==a.$parentWinId$););return(e=new URL(b||"",d),c&&n.$config$.resolveUrl&&(f=n.$config$.resolveUrl(e,d,c)))?f:e},aJ=(a,b,c)=>aI(a,b,c)+"",aK=()=>`<script src="${u("partytown.js?v=0.6.4")}"></script>`,aL=a=>class{constructor(){this.s="",this.l=[],this.e=[]}get src(){return this.s}set src(b){n.$config$.logImageRequests&&ah(`Image() request: ${aJ(a,b,null)}`,a.$winId$),this.s=b,fetch(aJ(a,b,null),{mode:"no-cors",credentials:"include",keepalive:!0}).then(a=>{a.ok||0===a.status?this.l.map(a=>a({type:"load"})):this.e.map(a=>a({type:"error"}))},()=>this.e.forEach(a=>a({type:"error"})))}addEventListener(a,b){"load"===a&&this.l.push(b),"error"===a&&this.e.push(b)}get onload(){return this.l[0]}set onload(a){this.l=[a]}get onerror(){return this.e[0]}set onerror(a){this.e=[a]}},aM={addEventListener:{value(...a){let b=a[0],c=O(this,b)||[];c.push(a[1]),P(this,b,c)}},async:{get:D,set:D},defer:{get:D,set:D},onload:{get(){let a=O(this,"load");return a&&a[0]||null},set(a){P(this,"load",a?[a]:null)}},onerror:{get(){let a=O(this,"error");return a&&a[0]||null},set(a){P(this,"error",a?[a]:null)}},getAttribute:{value(a){return"src"===a?this.src:av(this,["getAttribute"],[a])}},setAttribute:{value(a,b){aN.includes(a)?this[a]=b:av(this,["setAttribute"],[a,b])}}},aN=t("src,type"),aO=(a,b)=>{let c={innerHTML:aP,innerText:aP,src:{get(){return O(this,4)||""},set(a){let c=aJ(b,a,null),d=n.$config$;if(a=aJ(b,a,"script"),P(this,4,a),au(this,["src"],a),c!==a&&au(this,["dataset","ptsrc"],c),this.type&&d.loadScriptsOnMainThread){let e=d.loadScriptsOnMainThread.some(b=>b===a);e&&au(this,["type"],"text/javascript")}}},textContent:aP,type:{get(){return at(this,["type"])},set(a){aQ(a)||(P(this,5,a),au(this,["type"],a))}},...aM};L(a,c)},aP={get(){return O(this,3)||""},set(a){P(this,3,a)}},aQ=a=>!a||"text/javascript"===a,aR=(a,e,f)=>{let g=J(class extends f{appendChild(a){return this.insertBefore(a,null)}get href(){}set href(a){}insertBefore(a,f){let g=a[b]=this[b],h=a[c],i=a[d],j="SCRIPT"===i;if(j){let k=O(a,3),l=O(a,5);if(k){if(aQ(l)){let m=aF(e,h,k,g,""),o=m?"pterror":"ptid",p=m||h;au(a,["type"],"text/partytown-x"),au(a,["dataset",o],p)}au(a,["innerHTML"],k)}}if(av(this,["insertBefore"],[a,f],2),"IFRAME"===i){var r,s;let t=O(a,0);if(t&&t.startsWith("javascript:")){let u=t.split("javascript:")[1];aF(e,h,u,g,"")}let v,w,x,y;r=h,s=a,v=0,(y=()=>{q[r]&&q[r].$isInitialized$&&!q[r].$isLoading$?(w=O(s,1)?"error":"load",x=O(s,w),x&&x.map(a=>a({type:w}))):v++ >2e3?(x=O(s,"error"))&&x.map(a=>a({type:"error"})):setTimeout(y,9)})()}return j&&(as(!0),n.$postMessage$([7,g])),a}get nodeName(){return"#s"===this[d]?"#document-fragment":this[d]}get nodeType(){return 3}get ownerDocument(){return e.$document$}},"Node");T(g,t("childNodes,firstChild,isConnected,lastChild,nextSibling,parentElement,parentNode,previousSibling")),a.Node=g},aS=t("AUDIO,CANVAS,VIDEO"),aT=t("Audio,MediaSource"),aU=(a,c,d)=>{let e={body:{get:()=>c.$body$},cookie:{get(){return c.$isSameOrigin$?at(this,["cookie"]):(ag("get","cookie",c),"")},set(a){c.$isSameOrigin$?au(this,["cookie"],a):ag("set","cookie",c)}},createElement:{value(a){if(a=a.toUpperCase(),!C.test(a))throw a+" not valid";let c="IFRAME"===a,d=this[b],e=(c?"f_":"")+H();av(this,["createElement"],[a],2,e);let f=R(d,e,a);if(c){let g=a1({$winId$:e,$parentWinId$:d,$url$:"about:blank"},!0);g.$window$.fetch=fetch,au(f,["srcdoc"],aK())}else if("SCRIPT"===a){let h=O(f,5);aQ(h)&&au(f,["type"],"text/partytown")}return f}},createElementNS:{value(a,c){let d=H(),e=R(this[b],d,c,a);return av(this,["createElementNS"],[a,c],2,d),e}},createTextNode:{value(a){let c=this[b],d=H(),e=R(c,d,"#text");return av(this,["createTextNode"],[a],2,d),e}},createEvent:{value:a=>new Event(a)},currentScript:{get(){return c.$currentScriptId$?R(this[b],c.$currentScriptId$,"SCRIPT"):null}},defaultView:{get:()=>d?null:c.$window$},documentElement:{get:()=>c.$documentElement$},getElementsByTagName:{value(a){return"BODY"===(a=a.toUpperCase())?[c.$body$]:"HEAD"===a?[c.$head$]:av(this,["getElementsByTagName"],[a])}},head:{get:()=>c.$head$},images:{get(){return at(this,["images"])}},implementation:{get(){return{hasFeature:()=>!0,createHTMLDocument:a=>{let b=H();av(this,["implementation","createHTMLDocument"],[a],1,{$winId$:b});let d=a1({$winId$:b,$parentWinId$:b,$url$:c.$location$+"",$visibilityState$:"hidden"},!0,!0);return d.$document$}}}},location:{get:()=>c.$location$,set(a){c.$location$.href=a+""}},nodeType:{value:9},parentNode:{value:null},parentElement:{value:null},readyState:{value:"complete"},visibilityState:{get:()=>c.$visibilityState$||"visible"}};L(a,e),V(a,"compatMode,referrer,forms")},aV=(a,b)=>{let c={parentElement:{get(){return this.parentNode}},parentNode:{get:()=>b.$documentElement$}};L(a,c)},aW=(a,b)=>{let c={localName:{get(){return this[d].toLowerCase()}},namespaceURI:{get(){return this[e]||"http://www.w3.org/1999/xhtml"}},nodeType:{value:1},tagName:{get(){return this[d]}}};L(a,c),T(a,w),V(a,"id"),W(b),X(b,t("getClientRects,getBoundingClientRect"))},aX=(a,b)=>{let c={};t("hash,host,hostname,href,origin,pathname,port,protocol,search").map(a=>{c[a]={get(){let c=O(this,4),d;return"string"!=typeof c&&(d=at(this,["href"]),P(this,4,d),c=new URL(d)[a]),aI(b,c,null)[a]},set(c){let d;if("href"===a){if((a=>{try{return new URL(a),!0}catch(b){return!1}})(c))d=new URL(c);else{let e=b.$location$.href;(d=aI(b,e,null)).href=new URL(c+"",d.href)}}else(d=aI(b,this.href,null))[a]=c;P(this,4,d.href),au(this,["href"],d.href)}}}),L(a,c)},aY=(a,b)=>{let c={contentDocument:{get(){return aZ(this).$document$}},contentWindow:{get(){return aZ(this).$window$}},src:{get(){let a=O(this,0);return a&&a.startsWith("javascript:")?a:(a=aZ(this).$location$.href).startsWith("about:")?"":a},set(a){if(a){if(a.startsWith("javascript:"))P(this,0,a);else if(!a.startsWith("about:")){let b=new XMLHttpRequest,c,d=aZ(this);d.$location$.href=a=aJ(d,a,"iframe"),d.$isLoading$=1,P(this,1,void 0),b.open("GET",a,!1),b.send(),(c=b.status)>199&&c<300?(au(this,["srcdoc"],`<base href="${a}">`+b.responseText.replace(/<script>/g,'<script type="text/partytown">').replace(/<script /g,'<script type="text/partytown" ').replace(/text\/javascript/g,"text/partytown")+aK()),as(!0),n.$postMessage$([7,d.$winId$])):(P(this,1,c),d.$isLoading$=0)}}}},...aM};L(a,c)},aZ=a=>{let d=a[c];return q[d]||a1({$winId$:d,$parentWinId$:a[b],$url$:at(a,["src"])||"about:blank"},!0),q[d]},a$=a=>{let b=(a,b)=>{let{a:c,b:d,c:e,d:f,e:g,f:h}=av(a,[b],G);return new DOMMatrixReadOnly([c,d,e,f,g,h])},c={...a,getCTM:{value:function(){return b(this,"getCTM")}},getScreenCTM:{value:function(){return b(this,"getScreenCTM")}}};L(a,c)},a_=(h,i,j,k,l,r)=>{let s,v,x,y=class{constructor(a,i,j,k,l){this[b]=a||h,this[c]=i||s||H(),this[f]=j||[],this[d]=k||v,this[e]=l||x,this[g]={},s=v=x=void 0}},z=J(class extends URL{assign(){ah("location.assign(), noop")}reload(){ah("location.reload(), noop")}replace(){ah("location.replace(), noop")}},"Location"),B=new z(j),C=B.origin===n.$origin$||"about:blank"===B.origin,D=i===h,G={},Q=()=>{let a=[],b,c;for(b in q)(c=q[b]).$parentWinId$!==h||c.$isTopWindow$||a.push(c);return a},U=J(class extends y{constructor(){super(h,h);let d=this,e,g,j=0,m=()=>{j||((n.$initWindowMedia$||(a.$bridgeToMedia$=[at,au,av,aw,L,H,b,c,f],n.$importScripts$(u("partytown-media.js?v=0.6.4")),n.$initWindowMedia$=a.$bridgeFromMedia$,delete a.$bridgeFromMedia$),n.$initWindowMedia$)(y,Z,G,d,aT),j=1)},q={},z=(a,b,c)=>{aS.includes(a)&&m();let d=q[a]?q[a]:a.includes("-")?q.UNKNOWN:q.I;return s=b,v=a,x=c,new d};if(d.Window=U,d.name=name+`${aj(h)} (${h})`,aR(d,G,y),aB(d,y,"CSSStyleDeclaration"),((a,b,c)=>{a[c]=J(class extends b{now(){return performance.now()}},c)})(d,y,"Performance"),((a,b)=>{let c=new Map;a.customElements={define(d,e,f){c.set(d,e),b[d.toUpperCase()]=e;let g=[e.name,e.observedAttributes];av(a,["customElements","define"],[d,g,f])},get:b=>c.get(b)||av(a,["customElements","get"],[b]),whenDefined:b=>c.has(b)?Promise.resolve():av(a,["customElements","whenDefined"],[b]),upgrade:b=>av(a,["customElements","upgrade"],[b])}})(d,q),n.$interfaces$.map(([a,b,e,g,i])=>{let j=a0[a]?Y:"EventTarget"===b?Z:"Object"===b?y:d[b],k=d[a]=J(12===g?class extends y{constructor(...b){super(),aw(this,a,b)}}:d[a]||class extends j{},a);i&&(q[i]=k),e.map(([a,b,e])=>{a in k.prototype||a in j.prototype||("string"==typeof b?K(k,a,{get(){if(!N(this,a)){let e=this[c],g=[...this[f],a],i=d[b];i&&P(this,a,new i(h,e,g))}return O(this,a)},set(b){P(this,a,b)}}):5===b?M(k,a,function(...b){return av(this,[a],b)}):b>0&&(void 0!==e?M(k,a,e):K(k,a,{get(){return at(this,[a])},set(b){return au(this,[a],b)}})))})}),t("atob,btoa,crypto,indexedDB,setTimeout,setInterval,clearTimeout,clearInterval").map(b=>{delete U.prototype[b],b in d||null==(e=a[b])||(d[b]="function"!=typeof e||e.toString().startsWith("class")?e:e.bind(a))}),Object.getOwnPropertyNames(a).map(b=>{b in d||(d[b]=a[b])}),aT.map(a=>I(d,a,{get(){return m(),d[a]}})),"trustedTypes"in a&&(d.trustedTypes=a.trustedTypes),aW(d.Element,d.HTMLElement),aU(d.Document,G,r),(a=>{S(a,11),T(a,w)})(d.DocumentFragment),aX(d.HTMLAnchorElement,G),(a=>{L(a,{}),V(a,"elements")})(d.HTMLFormElement),aY(d.HTMLIFrameElement),aO(d.HTMLScriptElement,G),a$(d.SVGGraphicsElement),aV(d.HTMLHeadElement,G),aV(d.HTMLBodyElement,G),((a,b)=>{let c={parentElement:{value:null},parentNode:{get:()=>b.$document$}};L(a,c)})(d.HTMLHtmlElement,G),aC(d,"CSSStyleSheet"),S(d.Comment,8),S(d.DocumentType,10),Object.assign(G,{$winId$:h,$parentWinId$:i,$window$:new Proxy(d,{get:(a,b)=>{var c;if("string"!=typeof b||isNaN(b))return(null===(c=n.$config$.mainWindowAccessors)|| void 0===c?void 0:c.includes(b))?at(this,[b]):a[b];{let d=Q()[b];return d?d.$window$:void 0}},has:()=>!0}),$document$:z("#document",h+".d"),$documentElement$:z("HTML",h+".e"),$head$:z("HEAD",h+".h"),$body$:z("BODY",h+".b"),$location$:B,$visibilityState$:k,$isSameOrigin$:C,$isTopWindow$:D,$createNode$:z}),d.requestAnimationFrame=a=>setTimeout(()=>a(performance.now()),9),d.cancelAnimationFrame=a=>clearTimeout(a),d.requestIdleCallback=(a,b)=>(b=Date.now(),setTimeout(()=>a({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-b))}),1)),d.cancelIdleCallback=a=>clearTimeout(a),ay(d,"localStorage",o,C,G),ay(d,"sessionStorage",p,C,G),C||(d.indexeddb=void 0),l)g={},d.history={pushState(a){g=a},replaceState(a){g=a},get state(){return g},length:0},d.indexeddb=void 0;else{let A=d.history.pushState.bind(d.history),E=d.history.replaceState.bind(d.history);d.history.pushState=(a,b,c)=>{!1!==G.$propagateHistoryChange$&&A(a,b,c)},d.history.replaceState=(a,b,c)=>{!1!==G.$propagateHistoryChange$&&E(a,b,c)}}d.Worker=void 0}addEventListener(...a){"load"===a[0]?G.$runWindowLoadEvent$&&setTimeout(()=>a[1]({type:"load"})):av(this,["addEventListener"],a,2)}get body(){return G.$body$}get document(){return G.$document$}get documentElement(){return G.$documentElement$}fetch(a,b){return fetch(aJ(G,a="string"==typeof a||a instanceof URL?String(a):a.url,"fetch"),b)}get frames(){return G.$window$}get frameElement(){return D?null:R(i,h,"IFRAME")}get globalThis(){return G.$window$}get head(){return G.$head$}get length(){return Q().length}get location(){return B}set location(a){B.href=a+""}get Image(){return aL(G)}get navigator(){return(a=>{let b,c={sendBeacon:(b,c)=>{if(n.$config$.logSendBeaconRequests)try{ah(`sendBeacon: ${aJ(a,b,null)}${c?", data: "+JSON.stringify(c):""}`)}catch(d){console.error(d)}try{return fetch(aJ(a,b,null),{method:"POST",body:c,mode:"no-cors",keepalive:!0}),!0}catch(e){return console.error(e),!1}}};for(b in navigator)c[b]=navigator[b];return c})(G)}get origin(){return B.origin}set origin(a){}get parent(){for(let a in q)if(q[a].$winId$===i)return q[a].$window$;return G.$window$}postMessage(...a){q[a[0]]&&(E(m)>50&&m.splice(0,5),m.push({$winId$:a[0],$data$:JSON.stringify(a[1])}),a=a.slice(1)),av(this,["postMessage"],a,3)}get self(){return G.$window$}get top(){for(let a in q)if(q[a].$isTopWindow$)return q[a].$window$;return G.$window$}get window(){return G.$window$}get XMLHttpRequest(){let a=XMLHttpRequest,b=String(a),c=J(class extends a{open(...a){a[1]=aJ(G,a[1],"xhr"),super.open(...a)}set withCredentials(a){}toString(){return b}},F(a));return c.prototype.constructor.toString=()=>b,c}},"Window"),Y=class extends y{constructor(a,b,c,d){return super(a,b,c,d),new Proxy(this,{get:(a,b)=>at(a,[b]),set(a,b,c){return au(a,[b],c),!0}})}},Z=class extends y{};return A.map(a=>Z.prototype[a]=function(...b){return av(this,[a],b,2)}),V(U,"devicePixelRatio"),W(U),X(U,["getComputedStyle"]),new U,G},a0={DOMStringMap:1,NamedNodeMap:1},a1=({$winId$:a,$parentWinId$:b,$url$:c,$visibilityState$:d},e,f)=>{if(!q[a]){q[a]=a_(a,b,c,d,e,f);{let g=a===b?"top":"iframe";ah(`Created ${g} window ${aj(a)} environment`,a)}}return n.$postMessage$([7,a]),q[a]},a2=[],a3=b=>{let c=b.data,d=c[0],e=c[1];if(n.$isInitialized$){if(7===d)(async a=>{let b=a.$winId$,c=a.$instanceId$,d=R(b,c,"SCRIPT"),e=a.$content$,f=a.$url$,g=a.$orgUrl$,h="",i=q[b],j;if(f)try{f=aI(i,f,"script")+"",P(d,4,f),n.$config$.logScriptExecution&&ah(`Execute script src: ${g}`,b),(j=await fetch(f)).ok?(e=await j.text(),i.$currentScriptId$=c,aG(i,e,g||f),aH(d,"load")):(h=j.statusText,aH(d,"error"))}catch(k){console.error(k),h=String(k.stack||k),aH(d,"error")}else e&&(h=aF(i,c,e,b,h));i.$currentScriptId$="",n.$postMessage$([6,b,c,h])})(e);else if(9===d)(({$winId$:a,$instanceId$:b,$refId$:c,$thisArg$:d,$args$:e})=>{if(k[c])try{k[c].apply(aa(a,b,[],d),aa(a,b,[],e))}catch(f){console.error(f)}})(e);else if(10===d)(({$winId$:a,$forward$:b,$args$:c})=>{try{let d=q[a].$window$,e=0,f=E(b);for(;e<f;e++)e+1<f?d=d[b[e]]:d[b[e]].apply(d,aa(null,a,[],c))}catch(g){console.error(g)}})(e);else if(5===d)a1(e);else if(8===d){if(1!==q[e].$isInitialized$){let f=e,g=q[f],h=g.$winId$===g.$parentWinId$?"top":"iframe";ah(`Initialized ${h} window ${aj(f)} environment ðŸŽ‰`,f)}q[e].$isInitialized$=1,q[e].$isLoading$=0}else if(14===d)q[e].$visibilityState$=c[2];else if(13===d){let i=e.$winId$,j=q[i];j.$location$.href=e.url,function(a,b,c){let d=b.$window$.history;switch(c.type){case 0:b.$propagateHistoryChange$=!1;try{d.pushState(c.state,"",c.newUrl)}catch(e){}b.$propagateHistoryChange$=!0;break;case 1:b.$propagateHistoryChange$=!1;try{d.replaceState(c.state,"",c.newUrl)}catch(f){}b.$propagateHistoryChange$=!0}}(e.$winId$,j,e)}else 15===d&&((a,b,c,d,e)=>{let f=R(b,c);f&&"function"==typeof f[d]&&f[d].apply(f,e)})(...c)}else 1===d?((b=>{let c=n.$config$=JSON.parse(b.$config$),d=b.$origin$;n.$importScripts$=importScripts.bind(a),n.$interfaces$=b.$interfaces$,n.$libPath$=b.$libPath$,n.$origin$=d,n.$postMessage$=postMessage.bind(a),n.$sharedDataBuffer$=b.$sharedDataBuffer$,o.set(d,b.$localStorage$),p.set(d,b.$sessionStorage$),a.importScripts=void 0,delete a.postMessage,delete a.WorkerGlobalScope,t("resolveUrl,get,set,apply").map(a=>{c[a]&&(c[a]=Function("return "+c[a])())})})(e),n.$postMessage$([2])):3===d?(n.$interfaces$=[...n.$interfaces$,...e],n.$isInitialized$=1,ah("Initialized web worker"),n.$postMessage$([4]),a2.length&&ah(`Queued ready messages: ${a2.length}`),[...a2].map(a3),a2.length=0):a2.push(b)};a.onmessage=a3,postMessage([0])})(self)